<div class="metrics-panel">
  <h3 class="metrics-title">Métricas en Vivo</h3>

  @if (metrics.responseTime) {
    <div class="metric-card">
      <div class="metric-label">Tiempo de Respuesta</div>
      <div class="metric-value">{{ metrics.responseTime }}ms</div>
    </div>
  }

  @if (metrics.intent) {
    <div class="metric-card">
      <div class="metric-label">Intención Detectada</div>
      <div class="metric-value intent-badge" [style.background-color]="agentColor + '20'" [style.color]="agentColor" [style.border-color]="agentColor + '40'">{{ metrics.intent }}</div>
    </div>
  }

  @if (metrics.confidence !== undefined) {
    <div class="metric-card">
      <div class="metric-label">Confianza</div>
      <div class="metric-value">
        <div class="confidence-bar">
          <div
            class="confidence-fill"
            [style.width.%]="metrics.confidence * 100"
            [style.background]="agentColor"
          ></div>
        </div>
        <span class="confidence-text">{{ (metrics.confidence * 100).toFixed(0) }}%</span>
      </div>
    </div>
  }

  @if (!metrics.responseTime && !metrics.intent) {
    <div class="metrics-placeholder">
      <p>Las métricas aparecerán aquí cuando envíes un mensaje</p>
    </div>
  }
</div>

